{"ast":null,"code":"// const API_URL = 'https://burger-queen-api-mock-mluz.vercel.app';\n\n// const getAuthToken = () => {\n//   const token = localStorage.getItem('authToken');\n//   return token;\n// };\nimport { API_URL, getAuthToken } from './Token/Token.js';\n\n// Função para formatar a data no formato desejado (exemplo: \"04-06-2023 11:42\")\nconst formatarData = data => {\n  const dia = adicionarZeroEsquerda(data.getDate());\n  const mes = adicionarZeroEsquerda(data.getMonth() + 1);\n  const ano = data.getFullYear();\n  const horas = adicionarZeroEsquerda(data.getHours());\n  const minutos = adicionarZeroEsquerda(data.getMinutes());\n  return `${dia}-${mes}-${ano} ${horas}:${minutos}`;\n};\n\n// Função auxiliar para adicionar um zero à esquerda de um número menor que 10\nconst adicionarZeroEsquerda = numero => {\n  return numero < 10 ? `0${numero}` : numero;\n};\nexport const obterPedidos = async () => {\n  const authToken = getAuthToken();\n  const response = await fetch(`${API_URL}/orders`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${authToken}`\n    }\n  });\n  if (!response.ok) {\n    throw new Error('Erro ao obter pedidos');\n  }\n  return response.json();\n};\nexport const adicionarPedido = async (cliente, mesa, produtos, atendente) => {\n  const authToken = getAuthToken();\n  try {\n    const pedido = {\n      waiter: atendente,\n      client: cliente,\n      table: mesa,\n      products: produtos.map(produto => ({\n        qty: produto.quantity,\n        client: produto.client,\n        product: {\n          id: produto.id,\n          name: produto.name,\n          type: produto.type,\n          price: produto.price,\n          table: produto.table\n        }\n      })),\n      status: 'pendente',\n      dateEntry: formatarData(new Date()),\n      id: Math.floor(Math.random() * 1000)\n    };\n    const response = await fetch(`${API_URL}/orders`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${authToken}`\n      },\n      body: JSON.stringify(pedido)\n    });\n    if (!response.ok) {\n      throw new Error('Erro ao adicionar pedido');\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const atualizarStatusPedido = async (pedidoId, novoStatus) => {\n  const authToken = getAuthToken();\n  try {\n    const dataProcessamento = formatarData(new Date());\n    const response = await fetch(`${API_URL}/orders/${pedidoId}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${authToken}`\n      },\n      body: JSON.stringify({\n        status: novoStatus,\n        dateProcessed: dataProcessamento\n      })\n    });\n    if (!response.ok) {\n      throw new Error('Erro ao atualizar o status do pedido');\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};","map":{"version":3,"names":["API_URL","getAuthToken","formatarData","data","dia","adicionarZeroEsquerda","getDate","mes","getMonth","ano","getFullYear","horas","getHours","minutos","getMinutes","numero","obterPedidos","authToken","response","fetch","method","headers","ok","Error","json","adicionarPedido","cliente","mesa","produtos","atendente","pedido","waiter","client","table","products","map","produto","qty","quantity","product","id","name","type","price","status","dateEntry","Date","Math","floor","random","body","JSON","stringify","error","atualizarStatusPedido","pedidoId","novoStatus","dataProcessamento","dateProcessed"],"sources":["/Users/user/Desktop/burguer-script/burger-script/src/API/Pedidos.js"],"sourcesContent":["// const API_URL = 'https://burger-queen-api-mock-mluz.vercel.app';\n\n// const getAuthToken = () => {\n//   const token = localStorage.getItem('authToken');\n//   return token;\n// };\nimport {\n  API_URL,\n  getAuthToken,}\n   from './Token/Token.js'\n\n// Função para formatar a data no formato desejado (exemplo: \"04-06-2023 11:42\")\nconst formatarData = (data) => {\n  const dia = adicionarZeroEsquerda(data.getDate());\n  const mes = adicionarZeroEsquerda(data.getMonth() + 1);\n  const ano = data.getFullYear();\n  const horas = adicionarZeroEsquerda(data.getHours());\n  const minutos = adicionarZeroEsquerda(data.getMinutes());\n  return `${dia}-${mes}-${ano} ${horas}:${minutos}`;\n};\n\n// Função auxiliar para adicionar um zero à esquerda de um número menor que 10\nconst adicionarZeroEsquerda = (numero) => {\n  return numero < 10 ? `0${numero}` : numero;\n};\n\nexport const obterPedidos = async () => {\n  const authToken = getAuthToken();\n  const response = await fetch(`${API_URL}/orders`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${authToken}`,\n    },\n  });\n\n  if (!response.ok) {\n    throw new Error('Erro ao obter pedidos');\n  }\n\n  return response.json();\n};\n\n\nexport const adicionarPedido = async (cliente, mesa, produtos, atendente) => {\n  const authToken = getAuthToken();\n  try {\n    const pedido = {\n      waiter: atendente,\n      client: cliente,\n      table: mesa,\n      products: produtos.map((produto) => ({\n        qty: produto.quantity,\n        client: produto.client,\n        product: {\n          id: produto.id,\n          name: produto.name,\n          type: produto.type,\n          price: produto.price,\n          table: produto.table,\n        },\n      })),\n      status: 'pendente',\n      dateEntry: formatarData(new Date()),\n      id: Math.floor(Math.random() * 1000),\n    };\n\n    const response = await fetch(`${API_URL}/orders`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${authToken}`,\n      },\n      body: JSON.stringify(pedido),\n    });\n\n    if (!response.ok) {\n      throw new Error('Erro ao adicionar pedido');\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n\n\nexport const atualizarStatusPedido = async (pedidoId, novoStatus) => {\n  const authToken = getAuthToken();\n  try {\n    const dataProcessamento = formatarData(new Date());\n    const response = await fetch(`${API_URL}/orders/${pedidoId}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${authToken}`,\n      },\n      body: JSON.stringify({\n        status: novoStatus,\n        dateProcessed: dataProcessamento,\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error('Erro ao atualizar o status do pedido');\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    throw error;\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}