{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/burguer-script/burger-script/src/componentes/CriaEListaUsuario/ListaUsuarios.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport './ListaUsuarios.css';\nimport { Link } from \"react-router-dom\";\nimport { listarUsuarios, editarUsuario, deletarUsuario } from \"../../API/Usuarios\";\nimport BtnEditarUsuario from \"../EditarDeletarUsuario/BtnEditarUsuario\";\nimport BtnDeletarUsuario from \"../EditarDeletarUsuario/BtnDeletarUsuario\";\nimport MenuNavegacao from \"../MenuNavegacao/MenuNavegacao\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ListaDeUsuarios() {\n  _s();\n  const [usuarios, setUsuarios] = useState([]);\n  const [editandoUsuarioId, setEditandoUsuarioId] = useState(null);\n  useEffect(() => {\n    const obterUsuarios = async () => {\n      try {\n        const usuariosData = await listarUsuarios();\n        setUsuarios(usuariosData);\n      } catch (error) {\n        console.error(\"Erro ao obter usuários:\", error);\n      }\n    };\n    obterUsuarios();\n  }, []);\n  const btnEditandoUsuario = usuarioId => {\n    setEditandoUsuarioId(usuarioId);\n  };\n  const salvarUsuario = async novoUsuario => {\n    try {\n      const usuarioAtualizado = {\n        ...novoUsuario\n      };\n      delete usuarioAtualizado.editando;\n      await editarUsuario(usuarioAtualizado.id, usuarioAtualizado);\n      alert(\"Dados alterados com sucesso\");\n      setEditandoUsuarioId(null);\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Erro ao salvar usuário:\", error);\n    }\n  };\n  const onDeleteUsuario = async id => {\n    try {\n      await deletarUsuario(id);\n      alert(\"Usuário deletado com sucesso\");\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Erro ao deletar usuário:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"telaFazerPedido\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"botaoSair\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/administracao\",\n        className: \"botaoSair\",\n        children: \"Voltar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MenuNavegacao, {\n      texto: \"listar colaboradores\",\n      imagemSrc: \"lista.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"listaUsuarios\",\n      children: usuarios.map(usuario => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cardUsuario\",\n        children: editandoUsuarioId === usuario.id ? /*#__PURE__*/_jsxDEV(BtnEditarUsuario, {\n          usuario: usuario,\n          aoSalvar: salvarUsuario,\n          onCancel: () => setEditandoUsuarioId(null)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"dados-usuario\",\n            children: [\"Nome: \", usuario.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"dados-usuario\",\n            children: [\"E-mail: \", usuario.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"dados-usuario\",\n            children: [\"Cargo: \", usuario.role]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-lista-usuarios\",\n            onClick: () => btnEditandoUsuario(usuario.id),\n            children: \"Editar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(BtnDeletarUsuario, {\n            usuario: usuario,\n            onDelete: () => onDeleteUsuario(usuario.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, usuario.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(ListaDeUsuarios, \"7MTaLGWT+U39luuDdCZ2QZvkKsg=\");\n_c = ListaDeUsuarios;\nvar _c;\n$RefreshReg$(_c, \"ListaDeUsuarios\");","map":{"version":3,"names":["useEffect","useState","Link","listarUsuarios","editarUsuario","deletarUsuario","BtnEditarUsuario","BtnDeletarUsuario","MenuNavegacao","jsxDEV","_jsxDEV","Fragment","_Fragment","ListaDeUsuarios","_s","usuarios","setUsuarios","editandoUsuarioId","setEditandoUsuarioId","obterUsuarios","usuariosData","error","console","btnEditandoUsuario","usuarioId","salvarUsuario","novoUsuario","usuarioAtualizado","editando","id","alert","window","location","reload","onDeleteUsuario","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","texto","imagemSrc","map","usuario","aoSalvar","onCancel","name","email","role","onClick","onDelete","_c","$RefreshReg$"],"sources":["/Users/user/Desktop/burguer-script/burger-script/src/componentes/CriaEListaUsuario/ListaUsuarios.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport './ListaUsuarios.css'\nimport { Link } from \"react-router-dom\";\nimport { listarUsuarios, editarUsuario, deletarUsuario} from \"../../API/Usuarios\";\nimport BtnEditarUsuario from \"../EditarDeletarUsuario/BtnEditarUsuario\";\nimport BtnDeletarUsuario from \"../EditarDeletarUsuario/BtnDeletarUsuario\";\nimport MenuNavegacao from \"../MenuNavegacao/MenuNavegacao\";\n\nexport default function ListaDeUsuarios() {\n  const [usuarios, setUsuarios] = useState([]);\n  const [editandoUsuarioId, setEditandoUsuarioId] = useState(null);\n\n  useEffect(() => {\n    const obterUsuarios = async () => {\n      try {\n        const usuariosData = await listarUsuarios();\n        setUsuarios(usuariosData);\n      } catch (error) {\n        console.error(\"Erro ao obter usuários:\", error);\n      }\n    };\n\n    obterUsuarios();\n  }, []);\n\n  const btnEditandoUsuario = (usuarioId) => {\n    setEditandoUsuarioId(usuarioId);\n  };\n\n  const salvarUsuario = async (novoUsuario) => {\n    try {\n      const usuarioAtualizado = { ...novoUsuario };\n      delete usuarioAtualizado.editando;\n  \n      await editarUsuario(usuarioAtualizado.id, usuarioAtualizado);\n      alert(\"Dados alterados com sucesso\")\n      setEditandoUsuarioId(null);\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Erro ao salvar usuário:\", error);\n    }\n  };\n  \n\n  const onDeleteUsuario = async (id) => {\n    try {\n      await deletarUsuario(id);\n      alert(\"Usuário deletado com sucesso\");\n      window.location.reload();\n    } catch (error) {\n      console.error(\"Erro ao deletar usuário:\", error);\n    }\n  };\n\n  return (\n    <div className=\"telaFazerPedido\">\n      <nav className=\"botaoSair\">\n        <Link to=\"/administracao\" className=\"botaoSair\">\n          Voltar\n        </Link>\n      </nav>\n      <MenuNavegacao\n                texto='listar colaboradores'\n                imagemSrc='lista.png'\n            />\n      <div className=\"listaUsuarios\">\n        {usuarios.map((usuario) => (\n          <div key={usuario.id} className=\"cardUsuario\">\n            {editandoUsuarioId === usuario.id ? (\n              <BtnEditarUsuario\n                usuario={usuario}\n                aoSalvar={salvarUsuario}\n                onCancel={() => setEditandoUsuarioId(null)}\n              />\n            ) : (\n              <>\n                <p className=\"dados-usuario\">Nome: {usuario.name}</p>\n                <p className=\"dados-usuario\">E-mail: {usuario.email}</p>\n                <p className=\"dados-usuario\">Cargo: {usuario.role}</p>\n                <button\n                  className=\"btn-lista-usuarios\"\n                  onClick={() => btnEditandoUsuario(usuario.id)}\n                >\n                  Editar\n                </button>\n                <BtnDeletarUsuario\n                  usuario={usuario}\n                  onDelete={() => onDeleteUsuario(usuario.id)}\n                />\n              </>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}